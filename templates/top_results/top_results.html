{% extends 'base.html' %}

{% block title %}–¢–æ–ø-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">üèÜ –¢–æ–ø-5 —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ —Ç–∏–∂–Ω—è</h1>
    <p class="page-description">
        –†–µ–π—Ç–∏–Ω–≥ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∑ –Ω–∞–π–≤–∏—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∑–∞ –ø–µ—Ä—ñ–æ–¥ –∑ {{ week_ago }}
    </p>
</div>

<div class="card-simple p-4">
    <div class="table-responsive">
        <table class="table data-table">
            <thead>
                <tr>
                    <th>–ú—ñ—Å—Ü–µ</th>
                    <th>–°—Ç—É–¥–µ–Ω—Ç</th>
                    <th>–°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª</th>
                    <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                </tr>
            </thead>
            <tbody>
                {% for student in top_students %}
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            {% if forloop.first %}
                            <span class="badge bg-warning me-2">ü•á</span>
                            {% elif forloop.counter == 2 %}
                            <span class="badge bg-secondary me-2">ü•à</span>
                            {% elif forloop.counter == 3 %}
                            <span class="badge bg-danger me-2">ü•â</span>
                            {% else %}
                            <span class="badge bg-light text-dark me-2">#{{ forloop.counter }}</span>
                            {% endif %}
                        </div>
                    </td>
                    <td>
                        <strong>{{ student.user__username }}</strong>
                    </td>
                    <td>
                        <span class="badge bg-success fs-6">
                            {{ student.avg_score|floatformat:1 }}%
                        </span>
                    </td>
                    <td>{{ student.tests_count }}</td>
                    <td>
                        {% if forloop.first %}
                        <span class="badge bg-warning text-dark">–õ—ñ–¥–µ—Ä</span>
                        {% elif forloop.counter <= 3 %}
                        <span class="badge bg-info">–ü—Ä–∏–∑–µ—Ä</span>
                        {% else %}
                        <span class="badge bg-light text-dark">–£—á–∞—Å–Ω–∏–∫</span>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center text-muted py-4">
                        <i class="fas fa-info-circle me-2"></i>
                        –©–µ –Ω–µ–º–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑–∞ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –±–ª–æ–∫ –ø–æ—Ä–∞–¥ -->
    <div class="improvement-tips mt-4">
        <h6>üìä –ü–æ—Ä–∞–¥–∏ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:</h6>
        <ul class="mb-0">
            <li>–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ—Ö–æ–¥—å—Ç–µ —Ç–µ—Å—Ç–∏</li>
            <li>–ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ –ø–æ–º–∏–ª–∫–∏</li>
            <li>–í–∏–∫–æ–Ω—É–π—Ç–µ –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏ –¥–Ω—è</li>
            <li>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —â–æ–¥–Ω—è</li>
        </ul>
    </div>
    <!--<div class="mt-4 p-3 bg-light rounded">
        <h6>üìä –ü–æ—Ä–∞–¥–∏ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:</h6>
        <ul class="mb-0">
            <li>–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ—Ö–æ–¥—å—Ç–µ —Ç–µ—Å—Ç–∏</li>
            <li>–ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ –ø–æ–º–∏–ª–∫–∏</li>
            <li>–í–∏–∫–æ–Ω—É–π—Ç–µ –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏ –¥–Ω—è</li>
            <li>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —â–æ–¥–Ω—è</li>
        </ul>
    </div>-->
</div>
{% endblock %}