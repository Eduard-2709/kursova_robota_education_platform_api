{% extends 'base.html' %}

{% block title %}–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç: {{ test.test_name }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">üéØ {{ test.test_name }}</h1>
    <p class="page-description">{{ test.description }}</p>
</div>

<div class="card-simple p-4">
    <form method="post">
        {% csrf_token %}

        <!-- –í–∏–±—ñ—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞ -->
        <div class="mb-4">
            <label class="form-label">–û–±–µ—Ä—ñ—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞:</label>
            <select name="user_id" class="form-control" required>
                <option value="">-- –û–±–µ—Ä—ñ—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ --</option>
                {% for user in users %}
                <option value="{{ user.id }}">{{ user.username }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- –ü–∏—Ç–∞–Ω–Ω—è -->
        {% for question in questions %}
        <div class="mb-4 p-3" style="background: #f8fafc; border-radius: 8px;">
            <h5 class="mb-3">–ü–∏—Ç–∞–Ω–Ω—è {{ forloop.counter }}: {{ question.question_text }}</h5>

            {% for answer in question.answer_set.all %}
            <div class="form-check mb-2">
                <input class="form-check-input" type="radio"
                       name="question_{{ question.question_id }}"
                       id="answer_{{ answer.answer_id }}"
                       value="{{ answer.answer_id }}" required>
                <label class="form-check-label" for="answer_{{ answer.answer_id }}">
                    {{ answer.answer_text }}
                </label>
            </div>
            {% endfor %}
        </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary btn-lg">
            <i class="fas fa-check me-2"></i>–ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ç–µ—Å—Ç
        </button>
        <a href="{% url 'test_list' %}" class="btn btn-secondary btn-lg">–°–∫–∞—Å—É–≤–∞—Ç–∏</a>
    </form>
</div>
{% endblock %}